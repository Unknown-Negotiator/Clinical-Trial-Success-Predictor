# Clinical Trial Success Predictor — Data Layer

Добро пожаловать в модуль data/ проекта Clinical-Trial-Success-Predictor.
Здесь находится полный набор данных, документации и артефактов, необходимых для построения RAG-системы и ML-моделей, предсказывающих успех конечных точек клинических испытаний в онкологии.

Структура папок отражает полный жизненный цикл данных: сырьевые файлы, регуляторные документы, метаданные, векторный индекс, а также материалы для валидации пайплайна.

## Структура репозитория

data/
│
├── rag/                     # Все артефакты RAG-системы
│   ├── rag_data/            # PDF-документы, используемые для поиска
│   ├── rag_index/           # FAISS-индекс и метаданные чанков
│   └── docs_manifest.csv    # Манифест документов: источник, URL, дата, теги
│
└── validation/              # Данные и примеры для ручной валидации и тестирования

## rag/ — Retrieval-Augmented Generation Data Layer

Папка содержит набор регуляторных и научных документов, а также векторный индекс для быстрого поиска. Все документы опубликованы до 28 мая 2025, как того требуют правила соревнования.

### rag_data/ — Источники знаний

Здесь хранятся ключевые документы:

- FDA oncology endpoints guidance
- EMA missing data guideline
- ICH E9 / ICH E10
- RECIST 1.1 и iRECIST
- Clinical Development Success Rates (BIO, 2021)
- Clinical Endpoints in Oncology — Primer
- Анализы факторов успеха клинических испытаний
- Другие регуляторные и обзорные материалы

Каждый документ — официальный источник (FDA, EMA, ICH, PMC, BIO).

### docs_manifest.csv

Манифест содержит:

title — название документа  
file_path — путь к PDF  
url — официальная ссылка  
publication_date — дата публикации  
source — FDA / EMA / ICH / PMC / BIO  
tags — endpoints, oncology, statistics, design и др.

## rag_index/

Артефакты RAG-системы:

rag.faiss            — векторный индекс FAISS  
rag_meta.jsonl       — метаданные чанков  
embed_model.txt      — использованная модель SentenceTransformers  
stats.json           — статистика (число документов, чанков, размерность)

Параметры чанкинга:
900 токенов на чанк  
перекрытие 150  
нормализованный текст  

Модель эмбеддингов: intfloat/e5-base  
Тип индекса: FAISS (inner product / cosine similarity)

## validation/

Папка для ручной проверки пайплайна:

- тестовые запросы  
- примеры результатов  
- вспомогательные кейсы

## Логика работы data layer

1. Сбор документов → rag_data  
2. Добавление записи в docs_manifest.csv  
3. Извлечение текста → нормализация → чанкинг  
4. Генерация эмбеддингов  
5. Создание и сохранение FAISS-индекса  
6. Использование в агенте (RAG)

## Что даёт эта структура

- Чёткое разделение сырья, индекса и метаданных  
- Возможность пересобрать весь RAG-слой с нуля  
- Прозрачность источников и их происхождения  
- Соответствие требованиям соревнования  
- Готовность к деплою без изменения структуры  
